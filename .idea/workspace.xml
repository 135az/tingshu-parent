<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="a271840d-fb25-4606-b81b-5bb69b89eb91" name="Changes" comment="feat(account): 实现用户充值与消费记录功能&#10;- 新增充值信息API控制器，支持根据订单号查询充值信息&#10;- 实现用户充值提交接口，生成充值订单并返回订单号&#10;- 添加账户充值成功后的处理逻辑，更新账户余额与交易明细&#10;- 实现用户充值记录与消费记录的分页查询接口- 完善账户明细Mapper与Service层，支持按交易类型筛选记录&#10;-优化账户金额增加逻辑，确保操作幂等性与数据一致性&#10;- 配置Kafka监听器，处理充值支付成功的异步通知消息&#10;- 调整Nacos配置中心地址，统一服务注册与配置管理入口">
      <change afterPath="$PROJECT_DIR$/service/service-dispatch/src/main/java/com/atguigu/tingshu/dispatch/config/XxlJobConfig.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/compiler.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.idea/encodings.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/encodings.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service-client/service-search-client/src/main/java/com/atguigu/tingshu/search/client/SearchFeignClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/service-client/service-search-client/src/main/java/com/atguigu/tingshu/search/client/SearchFeignClient.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service-client/service-search-client/src/main/java/com/atguigu/tingshu/search/client/impl/SearchDegradeFeignClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/service-client/service-search-client/src/main/java/com/atguigu/tingshu/search/client/impl/SearchDegradeFeignClient.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service-client/service-user-client/src/main/java/com/atguigu/tingshu/user/client/UserInfoFeignClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/service-client/service-user-client/src/main/java/com/atguigu/tingshu/user/client/UserInfoFeignClient.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service-client/service-user-client/src/main/java/com/atguigu/tingshu/user/client/impl/UserInfoDegradeFeignClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/service-client/service-user-client/src/main/java/com/atguigu/tingshu/user/client/impl/UserInfoDegradeFeignClient.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service/service-dispatch/src/main/java/com/atguigu/tingshu/dispatch/job/DispatchJobHandler.java" beforeDir="false" afterPath="$PROJECT_DIR$/service/service-dispatch/src/main/java/com/atguigu/tingshu/dispatch/job/DispatchJobHandler.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service/service-dispatch/src/main/resources/bootstrap.properties" beforeDir="false" afterPath="$PROJECT_DIR$/service/service-dispatch/src/main/resources/bootstrap.properties" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/api/UserInfoApiController.java" beforeDir="false" afterPath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/api/UserInfoApiController.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/service/UserInfoService.java" beforeDir="false" afterPath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/service/UserInfoService.java" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/service/impl/UserInfoServiceImpl.java" beforeDir="false" afterPath="$PROJECT_DIR$/service/service-user/src/main/java/com/atguigu/tingshu/user/service/impl/UserInfoServiceImpl.java" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="Interface" />
        <option value="AnnotationType" />
        <option value="Class" />
      </list>
    </option>
  </component>
  <component name="FormatOnSaveOptions">
    <option name="myRunOnSave" value="true" />
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="GitHubPullRequestSearchHistory">{
  &quot;lastFilter&quot;: {
    &quot;state&quot;: &quot;OPEN&quot;,
    &quot;assignee&quot;: &quot;135az&quot;
  }
}</component>
  <component name="GithubPullRequestsUISettings">{
  &quot;selectedUrlAndAccountId&quot;: {
    &quot;url&quot;: &quot;https://github.com/135az/tingshu-parent.git&quot;,
    &quot;accountId&quot;: &quot;82a259b0-5905-4836-9424-87c6f7e2a532&quot;
  }
}</component>
  <component name="HighlightingSettingsPerFile">
    <setting file="file://$PROJECT_DIR$/service/service-account/src/main/java/com/atguigu/tingshu/account/receiver/AccountReceiver.java" root0="FORCE_HIGHLIGHTING" />
  </component>
  <component name="MarkdownSettingsMigration">
    <option name="stateVersion" value="1" />
  </component>
  <component name="MavenImportPreferences">
    <option name="generalSettings">
      <MavenGeneralSettings>
        <option name="customMavenHome" value="D:\environment\apache-maven-3.9.10" />
        <option name="mavenHomeTypeForPersistence" value="CUSTOM" />
        <option name="userSettingsFile" value="D:\environment\apache-maven-3.9.10\conf\settings.xml" />
      </MavenGeneralSettings>
    </option>
  </component>
  <component name="OptimizeOnSaveOptions">
    <option name="myRunOnSave" value="true" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;customColor&quot;: &quot;&quot;,
  &quot;associatedIndex&quot;: 5
}</component>
  <component name="ProjectId" id="2YVafTG7hFwgtrkUKfSrfmxbjKl" />
  <component name="ProjectLevelVcsManager">
    <ConfirmationsSetting value="2" id="Add" />
  </component>
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showExcludedFiles" value="false" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent"><![CDATA[{
  "keyToString": {
    "Application.Main.executor": "Run",
    "Maven.server-gateway [install].executor": "Run",
    "Maven.service-album [install].executor": "Run",
    "Maven.tingshu-parent [clean].executor": "Run",
    "Maven.tingshu-parent [install].executor": "Run",
    "ModuleVcsDetector.initialDetectionPerformed": "true",
    "RequestMappingsPanelOrder0": "0",
    "RequestMappingsPanelOrder1": "1",
    "RequestMappingsPanelWidth0": "75",
    "RequestMappingsPanelWidth1": "75",
    "RunOnceActivity.OpenProjectViewOnStart": "true",
    "RunOnceActivity.ShowReadmeOnStart": "true",
    "RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252": "true",
    "RunOnceActivity.git.unshallow": "true",
    "SHARE_PROJECT_CONFIGURATION_FILES": "true",
    "Spring Boot.CDCApplicaiton.executor": "Run",
    "Spring Boot.ServerGatewayApplication.executor": "Run",
    "Spring Boot.ServiceAccountApplication.executor": "Run",
    "Spring Boot.ServiceAlbumApplication.executor": "Run",
    "Spring Boot.ServiceDispatchApplication.executor": "Run",
    "Spring Boot.ServiceOrderApplication.executor": "Run",
    "Spring Boot.ServiceSearchApplication.executor": "Run",
    "Spring Boot.ServiceUserApplication.executor": "Run",
    "Spring Boot.XxlJobAdminApplication.executor": "Run",
    "Spring Boot.XxlJobExecutorApplication.executor": "Run",
    "WebServerToolWindowFactoryState": "false",
    "git-widget-placeholder": "master",
    "ignore.virus.scanning.warn.message": "true",
    "kotlin-language-version-configured": "true",
    "last_opened_file_path": "D:/0628project/tingshu-parent",
    "node.js.detected.package.eslint": "true",
    "node.js.detected.package.tslint": "true",
    "node.js.selected.package.eslint": "(autodetect)",
    "node.js.selected.package.tslint": "(autodetect)",
    "nodejs_package_manager_path": "npm",
    "onboarding.tips.debug.path": "D:/IdeaProjects/tingshu-parent/service/service-cdc/src/main/java/com/atguigu/tingshu/Main.java",
    "project.structure.last.edited": "Modules",
    "project.structure.proportion": "0.15",
    "project.structure.side.proportion": "0.2",
    "rearrange.code.on.save": "true",
    "run.configurations.included.in.services": "true",
    "settings.editor.selected.configurable": "preferences.keymap",
    "vue.rearranger.settings.migration": "true"
  },
  "keyToStringList": {
    "DatabaseDriversLRU": [
      "mysql"
    ]
  }
}]]></component>
  <component name="ReactorSettings">
    <option name="notificationShown" value="true" />
  </component>
  <component name="RecentsManager">
    <key name="CopyClassDialog.RECENTS_KEY">
      <recent name="com.atguigu.tingshu.model.live" />
    </key>
  </component>
  <component name="RunDashboard">
    <option name="configurationTypes">
      <set>
        <option value="KtorApplicationConfigurationType" />
        <option value="MicronautRunConfigurationType" />
        <option value="QuarkusRunConfigurationType" />
        <option value="SpringBootApplicationConfigurationType" />
      </set>
    </option>
    <option name="configurationStatuses">
      <map>
        <entry key="SpringBootApplicationConfigurationType">
          <value>
            <map>
              <entry key="CDCApplicaiton" value="STOPPED" />
              <entry key="ServerGatewayApplication" value="STOPPED" />
              <entry key="ServiceAccountApplication" value="STOPPED" />
              <entry key="ServiceAlbumApplication" value="STOPPED" />
              <entry key="ServiceDispatchApplication" value="STOPPED" />
              <entry key="ServiceOrderApplication" value="STOPPED" />
              <entry key="ServiceSearchApplication" value="STOPPED" />
              <entry key="ServiceUserApplication" value="STOPPED" />
              <entry key="XxlJobExecutorApplication" value="STOPPED" />
            </map>
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="RunManager" selected="Spring Boot.XxlJobExecutorApplication">
    <configuration name="CDCApplicaiton" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot" temporary="true" nameIsGenerated="true">
      <module name="service-cdc" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.CDCApplicaiton" />
      <extension name="coverage">
        <pattern>
          <option name="PATTERN" value="com.atguigu.tingshu.*" />
          <option name="ENABLED" value="true" />
        </pattern>
      </extension>
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServerGatewayApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="server-gateway" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServerGatewayApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceAccountApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-account" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceAccountApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceAlbumApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-album" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceAlbumApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceCommentApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-comment" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceCommentApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceDispatchApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-dispatch" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceDispatchApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceLiveApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-live" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceLiveApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceOrderApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-order" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceOrderApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServicePaymentApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-payment" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServicePaymentApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceSearchApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-search" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceSearchApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceSystemApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-system" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceSystemApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="ServiceUserApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot">
      <module name="service-user" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.atguigu.tingshu.ServiceUserApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="XxlJobAdminApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot" nameIsGenerated="true">
      <module name="xxl-job-admin" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.xxl.job.admin.XxlJobAdminApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="XxlJobExecutorApplication" type="SpringBootApplicationConfigurationType" factoryName="Spring Boot" nameIsGenerated="true">
      <module name="xxl-job-executor-sample-springboot" />
      <option name="SPRING_BOOT_MAIN_CLASS" value="com.xxl.job.executor.XxlJobExecutorApplication" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <list>
      <item itemvalue="Spring Boot.XxlJobAdminApplication" />
      <item itemvalue="Spring Boot.XxlJobExecutorApplication" />
      <item itemvalue="Spring Boot.ServerGatewayApplication" />
      <item itemvalue="Spring Boot.ServiceAccountApplication" />
      <item itemvalue="Spring Boot.ServiceAlbumApplication" />
      <item itemvalue="Spring Boot.ServiceCommentApplication" />
      <item itemvalue="Spring Boot.ServiceDispatchApplication" />
      <item itemvalue="Spring Boot.ServiceLiveApplication" />
      <item itemvalue="Spring Boot.ServiceOrderApplication" />
      <item itemvalue="Spring Boot.ServicePaymentApplication" />
      <item itemvalue="Spring Boot.ServiceSearchApplication" />
      <item itemvalue="Spring Boot.ServiceSystemApplication" />
      <item itemvalue="Spring Boot.ServiceUserApplication" />
      <item itemvalue="Spring Boot.CDCApplicaiton" />
    </list>
    <recent_temporary>
      <list>
        <item itemvalue="Spring Boot.CDCApplicaiton" />
      </list>
    </recent_temporary>
  </component>
  <component name="SharedIndexes">
    <attachedChunks>
      <set>
        <option value="bundled-jdk-9823dce3aa75-bf35d07a577b-intellij.indexing.shared.core-IU-252.27397.103" />
        <option value="bundled-js-predefined-d6986cc7102b-3aa1da707db6-JavaScript-IU-252.27397.103" />
      </set>
    </attachedChunks>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="StructureViewState">
    <option name="selectedTab" value="Logical" />
  </component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="a271840d-fb25-4606-b81b-5bb69b89eb91" name="Changes" comment="" />
      <created>1700613305971</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1700613305971</updated>
      <workItem from="1700613307445" duration="321000" />
      <workItem from="1761633820257" duration="8747000" />
      <workItem from="1761643579352" duration="83000" />
      <workItem from="1761643705131" duration="1431000" />
      <workItem from="1761701280982" duration="13162000" />
      <workItem from="1761723628168" duration="13627000" />
      <workItem from="1761793024761" duration="15000" />
      <workItem from="1761975928024" duration="23611000" />
      <workItem from="1762086900835" duration="7000" />
      <workItem from="1762223966518" duration="37481000" />
      <workItem from="1762409983858" duration="2787000" />
      <workItem from="1762412975353" duration="25113000" />
      <workItem from="1762504916824" duration="12781000" />
    </task>
    <task id="LOCAL-00001" summary="feat(album): 实现分类数据查询接口- 新增分类管理API控制器BaseCategoryApiController&#10;- 添加查询所有分类数据的REST接口getBaseCategoryList&#10;- 实现分类数据按层级结构组装逻辑&#10;- 集成Swagger注解优化接口文档&#10;- 在BaseCategoryService中定义分类查询方法- 通过BaseCategoryViewMapper查询完整分类视图数据&#10;- 使用Stream API对分类数据进行分组和映射处理- 返回封装后的多级分类JSON结构数据">
      <option name="closed" value="true" />
      <created>1761634574771</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1761634574771</updated>
    </task>
    <task id="LOCAL-00002" summary="feat(album): 实现文件上传功能&#10;&#10;- 新增文件上传接口/fileUpload&#10;- 创建FileUploadService接口及实现类&#10;- 集成MinIO客户端实现文件存储&#10;- 支持自动生成唯一文件名和返回访问URL&#10;- 添加MinioConstantProperties配置类支持动态刷新- 优化异常处理和文件流上传逻辑">
      <option name="closed" value="true" />
      <created>1761634932139</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1761634932139</updated>
    </task>
    <task id="LOCAL-00003" summary="feat(album): 实现专辑新增与分类属性查询功能&#10;&#10;- 新增专辑信息保存接口/saveAlbumInfo&#10;- 实现专辑属性值批量插入逻辑&#10;- 初始化专辑统计信息（播放量、订阅量等）&#10;- 添加根据一级分类ID查询属性及属性值的功能&#10;- 优化认证上下文工具类线程局部变量声明&#10;- 更新Nacos配置中心地址为192.168.200.130&#10;- 完善BaseAttribute实体类及相关Mapper配置&#10;- 调整Result通用返回类空值判断逻辑- 移除冗余的全局异常处理和Feign拦截器文件&#10;- 修复MyBatis XML映射文件DTD引用路径问题">
      <option name="closed" value="true" />
      <created>1761703001081</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1761703001081</updated>
    </task>
    <task id="LOCAL-00004" summary="feat(album): 实现用户专辑分页查询功能&#10;&#10;- 新增根据条件查询专辑列表的API接口- 支持分页参数和查询对象传参- 实现专辑信息与统计数据的联合查询&#10;- 添加专辑播放量、订阅量等统计字段- 优化MyBatis XML映射文件SQL语句&#10;- 更新Mapper接口支持分页查询方法&#10;- 完善Service层专辑分页查询逻辑&#10;- 集成Swagger注解增强接口文档说明">
      <option name="closed" value="true" />
      <created>1761706208766</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1761706208766</updated>
    </task>
    <task id="LOCAL-00005" summary="feat(album): 实现专辑删除功能&#10;&#10;- 新增根据专辑ID删除专辑信息的API接口- 实现删除专辑及其关联属性值和统计数据的业务逻辑- 添加事务注解确保数据一致性&#10;- 完善删除操作的Mapper调用和条件构造器使用">
      <option name="closed" value="true" />
      <created>1761707782345</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1761707782345</updated>
    </task>
    <task id="LOCAL-00006" summary="feat(album): 实现专辑信息查询与修改功能&#10;&#10;- 新增根据ID查询专辑信息的API接口&#10;- 实现专辑信息修改的PUT请求接口&#10;- 补充专辑属性值的查询与更新逻辑- 添加事务注解保证数据一致性&#10;- 完善专辑信息与属性值的联合处理流程&#10;-优化BeanUtils拷贝与集合判空逻辑&#10;- 集成Swagger注解提升接口文档可读性">
      <option name="closed" value="true" />
      <created>1761708723145</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1761708723145</updated>
    </task>
    <task id="LOCAL-00007" summary="feat(album): 新增查询当前用户全部专辑列表接口&#10;&#10;- 在AlbumInfoApiController中添加findUserAllAlbumList方法&#10;- 实现根据用户ID查询其所有专辑的业务逻辑&#10;-通过AlbumInfoService定义并实现查询方法&#10;- 使用MyBatis Plus分页查询并返回专辑ID与标题- 集成AuthContextHolder获取当前用户ID- 添加Swagger注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1761717229196</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1761717229196</updated>
    </task>
    <task id="LOCAL-00008" summary="feat(album): 新增声音上传功能&#10;&#10;- 在TrackInfoApiController中添加uploadTrack接口&#10;- 实现音频文件上传至VOD服务的业务逻辑&#10;- 集成腾讯云VOD SDK处理文件上传与转码&#10;- 添加VodService接口及VodServiceImpl实现类&#10;- 支持上传临时路径配置与文件ID、URL返回&#10;- 集成Swagger注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1761720626211</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1761720626211</updated>
    </task>
    <task id="LOCAL-00009" summary="feat(album): 新增声音保存与上传功能&#10;&#10;- 在TrackInfoApiController中添加saveTrackInfo接口- 实现声音信息保存与流媒体数据获取逻辑&#10;- 集成腾讯云VOD服务实现音频文件上传与信息查询&#10;- 添加事务管理确保数据一致性- 初始化声音统计数据（播放、收藏、点赞、评论）&#10;- 更新专辑声音总数并与专辑信息关联- 使用Validation注解校验入参完整性&#10;- 集成Swagger注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1761724839841</created>
      <option name="number" value="00009" />
      <option name="presentableId" value="LOCAL-00009" />
      <option name="project" value="LOCAL" />
      <updated>1761724839841</updated>
    </task>
    <task id="LOCAL-00010" summary="feat(album): 新增用户声音分页查询功能- 在TrackInfoApiController中添加findUserTrackPage接口&#10;- 实现根据用户ID分页查询声音列表的业务逻辑- 添加TrackInfoQuery查询参数类支持条件过滤&#10;- 在TrackInfoMapper中定义selectUserTrackPage方法&#10;- 编写对应的XML SQL查询语句支持动态条件和统计字段&#10;-通过TrackInfoService定义并实现分页查询方法- 集成MyBatis Plus分页插件完成数据分页处理&#10;- 使用Swagger注解完善接口文档说明- 添加inspection profiles规则提升代码质量检查&#10;- 更新SQL方言映射文件支持TrackInfoMapper.xml">
      <option name="closed" value="true" />
      <created>1761727341450</created>
      <option name="number" value="00010" />
      <option name="presentableId" value="LOCAL-00010" />
      <option name="project" value="LOCAL" />
      <updated>1761727341450</updated>
    </task>
    <task id="LOCAL-00011" summary="feat(album): 新增声音信息获取与修改接口&#10;&#10;- 在TrackInfoApiController中添加getTrackInfo接口&#10;- 实现根据ID获取声音详细信息的功能- 添加updateTrackInfo接口支持声音信息修改- 在TrackInfoService中定义updateTrackInfo方法&#10;- 实现声音信息更新逻辑，包括媒体文件校验&#10;- 集成VOD服务验证媒体文件ID有效性- 使用BeanUtils拷贝属性并更新声音数据&#10;- 添加异常处理机制确保数据一致性&#10;- 集成Swagger注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1761728295872</created>
      <option name="number" value="00011" />
      <option name="presentableId" value="LOCAL-00011" />
      <option name="project" value="LOCAL" />
      <updated>1761728295872</updated>
    </task>
    <task id="LOCAL-00012" summary="feat(album): 新增声音删除功能&#10;&#10;- 在TrackInfoApiController中添加removeTrackInfo接口&#10;- 实现根据ID删除声音信息的业务逻辑- 添加事务管理确保数据一致性- 删除声音统计信息并更新专辑声音总数&#10;-重新计算声音序号并删除对应媒体文件&#10;- 在TrackInfoService中定义removeTrackInfo方法&#10;- 在VodService中添加removeTrack方法支持音频删除&#10;- 集成腾讯云VOD SDK实现媒体文件删除功能&#10;- 使用Swagger注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1761729472838</created>
      <option name="number" value="00012" />
      <option name="presentableId" value="LOCAL-00012" />
      <option name="project" value="LOCAL" />
      <updated>1761729472838</updated>
    </task>
    <task id="LOCAL-00013" summary="feat(user): 实现微信授权登录与用户信息管理- 添加微信登录接口，通过code获取openId并创建或查询用户- 实现用户信息初始化及账户创建的消息发送机制&#10;- 引入GuiGuLogin注解及切面实现登录状态校注入验与用户信息&#10;- 添加获取与更新用户信息接口，支持昵称与头像修改- 配置微信小程序相关参数及服务Bean&#10;- 调整Nacos配置中心地址，统一服务注册发现配置&#10;- 完善用户账户服务，支持用户注册时自动创建账户-优化Kafka消息发送逻辑，增加异步回调与日志记录- 补充.gitignore文件，排除IDE与构建产物&#10;- 更新ResultCodeEnum与AuthContextHolder类的文档注释">
      <option name="closed" value="true" />
      <created>1761792158473</created>
      <option name="number" value="00013" />
      <option name="presentableId" value="LOCAL-00013" />
      <option name="project" value="LOCAL" />
      <updated>1761792158473</updated>
    </task>
    <task id="LOCAL-00014" summary="feat(search): 实现专辑上下架功能&#10;&#10;- 新增专辑索引仓库AlbumIndexRepository&#10;- 实现专辑上架接口，同步专辑、属性、分类及用户信息到ES&#10;- 实现专辑下架接口，从ES中删除专辑索引&#10;- 添加Feign客户端支持专辑、分类、用户信息远程调用&#10;- 完善专辑属性值查询接口及相关降级实现- 调整Nacos配置中心地址为192.168.200.130:8848">
      <option name="closed" value="true" />
      <created>1761990340771</created>
      <option name="number" value="00014" />
      <option name="presentableId" value="LOCAL-00014" />
      <option name="project" value="LOCAL" />
      <updated>1761990340771</updated>
    </task>
    <task id="LOCAL-00015" summary="feat(search):优化专辑上架异步处理逻辑- 使用CompletableFuture异步编排获取专辑信息&#10;- 并行处理分类、属性及用户数据的远程调用-优化热度值计算逻辑，使用固定范围随机数- 调整播放量、订阅量等统计字段的生成策略&#10;- 完善多任务组合等待与索引数据保存流程">
      <option name="closed" value="true" />
      <created>1761990686493</created>
      <option name="number" value="00015" />
      <option name="presentableId" value="LOCAL-00015" />
      <option name="project" value="LOCAL" />
      <updated>1761990686493</updated>
    </task>
    <task id="LOCAL-00016" summary="feat(album): 实现专辑上下架消息通知机制&#10;&#10;- 在专辑服务中引入 Kafka 服务支持- 专辑上架时发送 Kafka 上架消息- 专辑下架时发送 Kafka 下架消息- 新增 SearchReceiver 监听上下架消息并同步搜索服务&#10;- 实现批量上架接口用于触发专辑上架操作">
      <option name="closed" value="true" />
      <created>1761993095905</created>
      <option name="number" value="00016" />
      <option name="presentableId" value="LOCAL-00016" />
      <option name="project" value="LOCAL" />
      <updated>1761993095905</updated>
    </task>
    <task id="LOCAL-00017" summary="feat(search): 实现专辑搜索功能&#10;&#10;- 新增根据关键词检索专辑的接口&#10;- 支持分类筛选和属性筛选&#10;- 支持多种排序方式（综合、播放量、发布时间）- 实现高亮显示匹配关键词&#10;- 添加分页查询支持&#10;- 构建 Elasticsearch 查询 DSL 语句&#10;- 解析搜索结果并封装返回数据&#10;- 集成 Swagger 注解优化接口文档">
      <option name="closed" value="true" />
      <created>1762067762639</created>
      <option name="number" value="00017" />
      <option name="presentableId" value="LOCAL-00017" />
      <option name="project" value="LOCAL" />
      <updated>1762067762639</updated>
    </task>
    <task id="LOCAL-00018" summary="feat(album): 实现根据一级分类ID查询全部分类信息接口&#10;&#10;- 新增根据一级分类ID获取完整分类树的API接口- 实现分类数据按层级结构组装逻辑&#10;- 支持返回包含二级和三级分类的嵌套JSON结构&#10;- 集成MyBatis Plus条件构造器优化查询性能&#10;- 使用Stream API对分类数据进行分组和映射处理- 添加Swagger注解完善接口文档- 补充对应的服务层方法和业务逻辑实现">
      <option name="closed" value="true" />
      <created>1762069341416</created>
      <option name="number" value="00018" />
      <option name="presentableId" value="LOCAL-00018" />
      <option name="project" value="LOCAL" />
      <updated>1762069341416</updated>
    </task>
    <task id="LOCAL-00019" summary="feat(album): 新增查询一级分类下置顶三级分类接口&#10;&#10;- 在BaseCategoryApiController中添加findTopBaseCategory3方法&#10;- 实现根据一级分类ID查询置顶三级分类列表功能&#10;- 在BaseCategoryService中定义findTopBaseCategory3ByCategory1Id方法&#10;- 在BaseCategoryServiceImpl中实现具体查询逻辑&#10;- 更新CategoryFeignClient及其熔断类以支持新接口&#10;- 在搜索服务中新增频道页数据查询接口&#10;- 实现频道页数据聚合查询逻辑&#10;- 支持根据一级分类ID获取置顶三级分类及对应专辑数据">
      <option name="closed" value="true" />
      <created>1762073255977</created>
      <option name="number" value="00019" />
      <option name="presentableId" value="LOCAL-00019" />
      <option name="project" value="LOCAL" />
      <updated>1762073255977</updated>
    </task>
    <task id="LOCAL-00020" summary="feat(search): 实现搜索关键字自动补全功能&#10;&#10;- 新增自动补全接口 completeSuggest&#10;- 实现基于拼音和首字母的模糊匹配逻辑&#10;- 添加专辑标题、简介、主播的提词数据索引&#10;- 支持拼音转换和首字母提取工具类&#10;- 构建 Completion Suggest 查询 DSL语句&#10;- 实现补全结果去重与数量补足逻辑&#10;- 新增 SuggestIndexRepository用于提词数据操作">
      <option name="closed" value="true" />
      <created>1762075968449</created>
      <option name="number" value="00020" />
      <option name="presentableId" value="LOCAL-00020" />
      <option name="project" value="LOCAL" />
      <updated>1762075968449</updated>
    </task>
    <task id="LOCAL-00021" summary="feat(search): 配置Logstash日志收集功能&#10;&#10;- 修改logback-spring.xml文件，启用Logstash日志收集配置- 更新Logstash目标地址为192.168.200.130:5044&#10;- 在开发环境配置中添加LOGSTASH appender引用&#10;- 引入logstash-logback-encoder依赖，版本号5.1- 调整XML命名空间声明顺序以符合标准格式&#10;- 统一XML标签闭合风格，去除多余空格&#10;- 移除不必要的换行符，保持配置文件整洁性">
      <option name="closed" value="true" />
      <created>1762076714103</created>
      <option name="number" value="00021" />
      <option name="presentableId" value="LOCAL-00021" />
      <option name="project" value="LOCAL" />
      <updated>1762076714103</updated>
    </task>
    <task id="LOCAL-00022" summary="feat(album): 新增专辑统计信息查询接口&#10;&#10;- 在AlbumInfoApiController中添加getAlbumStatVo方法，根据专辑Id获取统计信息&#10;- 扩展AlbumInfoFeignClient和其降级类，支持远程调用专辑统计 在信息接口&#10;-新增AlbumInfoMapper中selectAlbumStat方法，并在XML中编写对应SQL查询逻辑&#10;- 在AlbumInfoService中定义并实现getAlbumStatVoByAlbumId方法&#10;- 在search服务中新增getItem接口，整合专辑详情与统计信息的异步查询&#10;-新增线程池配置类ThreadPoolExecutorConfig，优化多任务并发执行效率">
      <option name="closed" value="true" />
      <created>1762226537104</created>
      <option name="number" value="00022" />
      <option name="presentableId" value="LOCAL-00022" />
      <option name="project" value="LOCAL" />
      <updated>1762226537104</updated>
    </task>
    <task id="LOCAL-00023" summary="feat(album): 实现专辑声音列表分页查询功能&#10;- 在TrackInfoApiController中新增findAlbumTrackPage接口，支持根据专辑ID分页获取声音列表&#10;- 扩展TrackInfoMapper接口与XML映射文件，添加selectAlbumTrackPage方法实现声音列表查询逻辑&#10;- 在TrackInfoService中定义并实现findAlbumTrackPage服务方法，处理声音列表分页与付费标识逻辑&#10;- 新增AlbumTrackListVo实体类用于封装声音列表返回数据-优化用户权限校验逻辑，支持未登录状态下展示付费标识&#10;- 增加对试听集数的特殊处理，确保免费声音不显示付费标识&#10;- 完善VIP用户和已购声音用户的付费标识判断逻辑&#10;- 在UserInfoApiController中新增userIsPaidTrack接口，用于判断用户是否购买指定声音&#10;- 扩展UserInfoFeignClient及其降级类，支持远程调用用户付费状态查询&#10;- 在UserInfoService中实现userIsPaidTrack方法，完成用户付费状态的业务逻辑处理">
      <option name="closed" value="true" />
      <created>1762233063122</created>
      <option name="number" value="00023" />
      <option name="presentableId" value="LOCAL-00023" />
      <option name="project" value="LOCAL" />
      <updated>1762233063122</updated>
    </task>
    <task id="LOCAL-00024" summary="feat增用户声音(user): 新播放进度查询接口&#10;&#10;- 在UserListenProcessApiController中添加getTrackBreakSecond接口，支持根据声音ID查询用户上次播放跳出时间- 扩展UserListenProcessService接口及其实现类，新增getTrackBreakSecond方法从MongoDB中获取播放进度&#10;- 集成MongoUtil工具类动态获取用户播放进度集合名称&#10;- 使用BigDecimal类型精确表示播放时间秒数&#10;- 添加@GuiGuLogin注解实现用户身份认证拦截&#10;- 集成Swagger注信息解完善接口文档&#10;- 优化MongoDB查询逻辑，支持按用户ID和声音ID联合查询播放记录">
      <option name="closed" value="true" />
      <created>1762242273769</created>
      <option name="number" value="00024" />
      <option name="presentableId" value="LOCAL-00024" />
      <option name="project" value="LOCAL" />
      <updated>1762242273769</updated>
    </task>
    <task id="LOCAL-00025" summary="feat(album): 新增专辑与声音统计更新功能&#10;- 在AlbumInfoMapper中添加updateStat方法，用于更新专辑统计数据&#10;- 在TrackInfoMapper中添加updateStat方法，用于更新声音统计数据&#10;- 实现AlbumInfoService和TrackInfoService中的updateStat接口&#10;- 在TrackInfoServiceImpl中实现统计更新逻辑，同时更新声音和专辑的播放量&#10;- 新增TrackReceiver监听器，处理Kafka消息更新统计信息&#10;- 在UserListenProcessApiController中增加updateListenProcess接口，用于更新用户播放进度&#10;- 扩展UserListenProcessService及其实现类，实现播放进度的保存与播放量统计逻辑&#10;- 集成Redis位图功能防止重复统计播放&#10;- 使用Kafka发送播放量更新消息，确保统计一致性">
      <option name="closed" value="true" />
      <created>1762245389140</created>
      <option name="number" value="00025" />
      <option name="presentableId" value="LOCAL-00025" />
      <option name="project" value="LOCAL" />
      <updated>1762245389140</updated>
    </task>
    <task id="LOCAL-00026" summary="feat(search): 实现专辑排行榜功能&#10;&#10;- 新增获取所有一级分类接口 findAllCategory1&#10;- 实现排行榜数据更新方法 updateLatelyAlbumRanking&#10;- 添加根据分类和维度查询排行榜接口 findRankingList&#10;- 集成 Redis 存储排行榜数据&#10;- 支持热度、播放量、订阅量等多维度排行&#10;- 完善 Feign 客户端与降级处理&#10;- 优化 Swagger 接口文档参数说明">
      <option name="closed" value="true" />
      <created>1762247801884</created>
      <option name="number" value="00026" />
      <option name="presentableId" value="LOCAL-00026" />
      <option name="project" value="LOCAL" />
      <updated>1762247801884</updated>
    </task>
    <task id="LOCAL-00027" summary="feat(user): 新增获取用户最近播放声音接口&#10;&#10;- 在 UserListenProcessApiController 中Track添加 getLately- 接口ProcessService 扩展 UserListen 接口及其实现类，新增 getLatelyTrack 方法&#10;- 实现从 MongoDB 查询用户最近播放记录的逻辑- 按 updateTime降序排序，获取最新播放的声音信息&#10;- 返回包含 albumId 和 trackId 的 Map 结构数据&#10;- 集成 @GuiGuLogin 注解实现用户身份认证拦截&#10;- 使用 MongoTemplate 动态查询用户播放进度集合- 添加 Swagger 注解完善接口文档说明">
      <option name="closed" value="true" />
      <created>1762256929332</created>
      <option name="number" value="00027" />
      <option name="presentableId" value="LOCAL-00027" />
      <option name="project" value="LOCAL" />
      <updated>1762256929332</updated>
    </task>
    <task id="LOCAL-00028" summary="feat(cache): 实现基于注解的缓存机制&#10;&#10;- 新增 @GuiGuCache 注解用于方法级别缓存控制&#10;- 实现 GuiGuCacheAspect 切面类处理缓存逻辑&#10;- 集成 Redis 与 Redisson 实现分布式缓存与锁机制&#10;- 在 AlbumInfoServiceImpl 和 BaseCategoryServiceImpl 中应用缓存注解&#10;-优化缓存 Key 生成策略，支持方法参数自动拼接&#10;- 添加缓存穿透保护机制，空值也缓存临时占位符&#10;- 配置 Redisson 客户端支持单点模式连接&#10;- 启用 redisson-spring-boot-starter 依赖支持">
      <option name="closed" value="true" />
      <created>1762310933835</created>
      <option name="number" value="00028" />
      <option name="presentableId" value="LOCAL-00028" />
      <option name="project" value="LOCAL" />
      <updated>1762310933835</updated>
    </task>
    <task id="LOCAL-00029" summary="feat(search): 集成布隆过滤器优化专辑查询性能&#10;- 在 ItemServiceImpl 中启用 RedissonClient 并恢复布隆过滤器校验逻辑&#10;-通过布隆过滤器提前拦截无效 albumId 查询请求&#10;- 在 SearchServiceImpl 中实现专辑上架时将 albumId 添加至布隆过滤器&#10;- 修改 ServiceAlbumApplication 实现 CommandLineRunner 接口&#10;- 项目启动时初始化布隆过滤器，设置预计元素数量与误判率&#10;- 引入 RedisConstant 常量类统一管理布隆过滤器键名&#10;-优化查询流程，避免无效请求穿透至数据库层">
      <option name="closed" value="true" />
      <created>1762313566781</created>
      <option name="number" value="00029" />
      <option name="presentableId" value="LOCAL-00029" />
      <option name="project" value="LOCAL" />
      <updated>1762313566781</updated>
    </task>
    <task id="LOCAL-00030" summary="feat(cdc): 实现CDC服务模块&#10;&#10;- 新增CDC服务模块，用于监听数据库变更事件&#10;- 集成Canal客户端实现数据变更捕获&#10;- 实现AlbumInfo和UserInfo表的数据变更处理器&#10;- 配置RedisTemplate以方式支持JSON序列化&#10;- 添加Redis缓存清理逻辑，在数据变更时删除对应缓存&#10;- 初始化CDC服务的SpringBoot启动类及相关配置文件&#10;- 在IDEA项目中注册新模块并配置运行环境&#10;-为搜索服务添加批量下架专辑的功能接口">
      <option name="closed" value="true" />
      <created>1762327403311</created>
      <option name="number" value="00030" />
      <option name="presentableId" value="LOCAL-00030" />
      <option name="project" value="LOCAL" />
      <updated>1762327403311</updated>
    </task>
    <task id="LOCAL-00031" summary="feat(order): 实现订单确认接口&#10;&#10;- 新增订单确认接口 trade，支持专辑和 VIP 商品下单&#10;- 集成用户、专辑、VIP 配置服务远程调用&#10;- 实现订单金额计算逻辑，包括原价、减免金额和最终价格&#10;- 支持 VIP 用户与普通用户不同折扣规则&#10;- 添加订单明细与减免明细构建逻辑&#10;- 使用 Redis 实现防重提交机制&#10;- 生成订单签名防止前端篡改支付数据&#10;- 完善订单相关 VO 类型转换与数据封装&#10;- 更新 Nacos 配置中心地址为生产环境 IP&#10;- 补充用户是否已购买专辑的判断接口&#10;- 实现 Feign 客户端接口与降级处理逻辑&#10;- 完善 Swagger 文档注解与接口描述信息">
      <option name="closed" value="true" />
      <created>1762413722892</created>
      <option name="number" value="00031" />
      <option name="presentableId" value="LOCAL-00031" />
      <option name="project" value="LOCAL" />
      <updated>1762413722892</updated>
    </task>
    <task id="LOCAL-00032" summary="feat(account): 实现用户账户余额查询功能&#10;&#10;- 新增获取账户可用余额的API接口&#10;- 实现根据用户ID查询账户余额的服务逻辑&#10;- 添加用户账户信息的数据访问方法&#10;- 集成认证上下文获取当前用户ID&#10;- 使用BigDecimal类型处理金额精度问题&#10;- 配置接口Swagger文档注解说明&#10;- 添加GuiGuLogin注解实现接口权限校验">
      <option name="closed" value="true" />
      <created>1762416428279</created>
      <option name="number" value="00032" />
      <option name="presentableId" value="LOCAL-00032" />
      <option name="project" value="LOCAL" />
      <updated>1762416428279</updated>
    </task>
    <task id="LOCAL-00033" summary="feat(album): 实现用户声音分集购买支付列表功能&#10;&#10;- 在TrackInfoApiController中新增findUserTrackPaidList接口&#10;- 实现根据声音ID获取后续未购买声音分集支付信息的逻辑&#10;- 添加TrackInfoService接口及其实现类中的findUserTrackPaidList方法&#10;- 集成用户购买记录Feign客户端调用获取已购声音ID列表&#10;- 构建不同集数组合的支付选项（本集、后10集、后20集等）&#10;- 支持最多购买50集的限制规则&#10;-优化getTrackListByAlbumId方法注释，移除冗余业务说明&#10;- 在bootstrap.properties中配置网络首选项解决Nacos注册问题&#10;- 在UserInfoApiController中新增findUserPaidTrackList接口- 实现根据专辑ID查询用户已购买声音ID列表的功能&#10;- 扩展UserInfoService及其实现类支持查询用户购买记录&#10;- 更新Feign客户端接口与降级实现以支持新功能调用">
      <option name="closed" value="true" />
      <created>1762421285350</created>
      <option name="number" value="00033" />
      <option name="presentableId" value="LOCAL-00033" />
      <option name="project" value="LOCAL" />
      <updated>1762421285350</updated>
    </task>
    <task id="LOCAL-00034" summary="feat(order): 实现声音分集购买订单处理功能&#10;&#10;- 引入TrackInfoFeignClient用于获取声音信息- 实现声音分集购买逻辑，支持单集与多集购买&#10;- 根据声音ID获取专辑信息并计算订单金额- 构建声音订单明细列表，包含名称、价格与封面&#10;-优化订单签名生成逻辑，移除调试注释&#10;- 添加stream工具类支持集合转换操作">
      <option name="closed" value="true" />
      <created>1762424901128</created>
      <option name="number" value="00034" />
      <option name="presentableId" value="LOCAL-00034" />
      <option name="project" value="LOCAL" />
      <updated>1762424901128</updated>
    </task>
    <task id="LOCAL-00035" summary="feat(account): 实现账户金额锁定与扣减功能&#10;&#10;- 新增账户余额检查与锁定接口&#10;- 实现账户金额扣减与解锁逻辑&#10;- 添加 Kafka 消息监听处理账户操作&#10;- 完善账户相关 Mapper 和 Service 方法&#10;-优化账户操作的幂等性与并发控制">
      <option name="closed" value="true" />
      <created>1762487903656</created>
      <option name="number" value="00035" />
      <option name="presentableId" value="LOCAL-00035" />
      <option name="project" value="LOCAL" />
      <updated>1762487903656</updated>
    </task>
    <task id="LOCAL-00036" summary="feat(account): 实现用户充值与消费记录功能&#10;- 新增充值信息API控制器，支持根据订单号查询充值信息&#10;- 实现用户充值提交接口，生成充值订单并返回订单号&#10;- 添加账户充值成功后的处理逻辑，更新账户余额与交易明细&#10;- 实现用户充值记录与消费记录的分页查询接口- 完善账户明细Mapper与Service层，支持按交易类型筛选记录&#10;-优化账户金额增加逻辑，确保操作幂等性与数据一致性&#10;- 配置Kafka监听器，处理充值支付成功的异步通知消息&#10;- 调整Nacos配置中心地址，统一服务注册与配置管理入口">
      <option name="closed" value="true" />
      <created>1762510410150</created>
      <option name="number" value="00036" />
      <option name="presentableId" value="LOCAL-00036" />
      <option name="project" value="LOCAL" />
      <updated>1762510410150</updated>
    </task>
    <option name="localTasksCounter" value="37" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="VcsManagerConfiguration">
    <option name="CHECK_CODE_SMELLS_BEFORE_PROJECT_COMMIT" value="false" />
    <option name="CHECK_NEW_TODO" value="false" />
    <MESSAGE value="feat(album): 新增声音删除功能&#10;&#10;- 在TrackInfoApiController中添加removeTrackInfo接口&#10;- 实现根据ID删除声音信息的业务逻辑- 添加事务管理确保数据一致性- 删除声音统计信息并更新专辑声音总数&#10;-重新计算声音序号并删除对应媒体文件&#10;- 在TrackInfoService中定义removeTrackInfo方法&#10;- 在VodService中添加removeTrack方法支持音频删除&#10;- 集成腾讯云VOD SDK实现媒体文件删除功能&#10;- 使用Swagger注解完善接口文档说明" />
    <MESSAGE value="feat(user): 实现微信授权登录与用户信息管理- 添加微信登录接口，通过code获取openId并创建或查询用户- 实现用户信息初始化及账户创建的消息发送机制&#10;- 引入GuiGuLogin注解及切面实现登录状态校注入验与用户信息&#10;- 添加获取与更新用户信息接口，支持昵称与头像修改- 配置微信小程序相关参数及服务Bean&#10;- 调整Nacos配置中心地址，统一服务注册发现配置&#10;- 完善用户账户服务，支持用户注册时自动创建账户-优化Kafka消息发送逻辑，增加异步回调与日志记录- 补充.gitignore文件，排除IDE与构建产物&#10;- 更新ResultCodeEnum与AuthContextHolder类的文档注释" />
    <MESSAGE value="feat(search): 实现专辑上下架功能&#10;&#10;- 新增专辑索引仓库AlbumIndexRepository&#10;- 实现专辑上架接口，同步专辑、属性、分类及用户信息到ES&#10;- 实现专辑下架接口，从ES中删除专辑索引&#10;- 添加Feign客户端支持专辑、分类、用户信息远程调用&#10;- 完善专辑属性值查询接口及相关降级实现- 调整Nacos配置中心地址为192.168.200.130:8848" />
    <MESSAGE value="feat(search):优化专辑上架异步处理逻辑- 使用CompletableFuture异步编排获取专辑信息&#10;- 并行处理分类、属性及用户数据的远程调用-优化热度值计算逻辑，使用固定范围随机数- 调整播放量、订阅量等统计字段的生成策略&#10;- 完善多任务组合等待与索引数据保存流程" />
    <MESSAGE value="feat(album): 实现专辑上下架消息通知机制&#10;&#10;- 在专辑服务中引入 Kafka 服务支持- 专辑上架时发送 Kafka 上架消息- 专辑下架时发送 Kafka 下架消息- 新增 SearchReceiver 监听上下架消息并同步搜索服务&#10;- 实现批量上架接口用于触发专辑上架操作" />
    <MESSAGE value="feat(search): 实现专辑搜索功能&#10;&#10;- 新增根据关键词检索专辑的接口&#10;- 支持分类筛选和属性筛选&#10;- 支持多种排序方式（综合、播放量、发布时间）- 实现高亮显示匹配关键词&#10;- 添加分页查询支持&#10;- 构建 Elasticsearch 查询 DSL 语句&#10;- 解析搜索结果并封装返回数据&#10;- 集成 Swagger 注解优化接口文档" />
    <MESSAGE value="feat(album): 实现根据一级分类ID查询全部分类信息接口&#10;&#10;- 新增根据一级分类ID获取完整分类树的API接口- 实现分类数据按层级结构组装逻辑&#10;- 支持返回包含二级和三级分类的嵌套JSON结构&#10;- 集成MyBatis Plus条件构造器优化查询性能&#10;- 使用Stream API对分类数据进行分组和映射处理- 添加Swagger注解完善接口文档- 补充对应的服务层方法和业务逻辑实现" />
    <MESSAGE value="feat(album): 新增查询一级分类下置顶三级分类接口&#10;&#10;- 在BaseCategoryApiController中添加findTopBaseCategory3方法&#10;- 实现根据一级分类ID查询置顶三级分类列表功能&#10;- 在BaseCategoryService中定义findTopBaseCategory3ByCategory1Id方法&#10;- 在BaseCategoryServiceImpl中实现具体查询逻辑&#10;- 更新CategoryFeignClient及其熔断类以支持新接口&#10;- 在搜索服务中新增频道页数据查询接口&#10;- 实现频道页数据聚合查询逻辑&#10;- 支持根据一级分类ID获取置顶三级分类及对应专辑数据" />
    <MESSAGE value="feat(search): 实现搜索关键字自动补全功能&#10;&#10;- 新增自动补全接口 completeSuggest&#10;- 实现基于拼音和首字母的模糊匹配逻辑&#10;- 添加专辑标题、简介、主播的提词数据索引&#10;- 支持拼音转换和首字母提取工具类&#10;- 构建 Completion Suggest 查询 DSL语句&#10;- 实现补全结果去重与数量补足逻辑&#10;- 新增 SuggestIndexRepository用于提词数据操作" />
    <MESSAGE value="feat(search): 配置Logstash日志收集功能&#10;&#10;- 修改logback-spring.xml文件，启用Logstash日志收集配置- 更新Logstash目标地址为192.168.200.130:5044&#10;- 在开发环境配置中添加LOGSTASH appender引用&#10;- 引入logstash-logback-encoder依赖，版本号5.1- 调整XML命名空间声明顺序以符合标准格式&#10;- 统一XML标签闭合风格，去除多余空格&#10;- 移除不必要的换行符，保持配置文件整洁性" />
    <MESSAGE value="feat(album): 新增专辑统计信息查询接口&#10;&#10;- 在AlbumInfoApiController中添加getAlbumStatVo方法，根据专辑Id获取统计信息&#10;- 扩展AlbumInfoFeignClient和其降级类，支持远程调用专辑统计 在信息接口&#10;-新增AlbumInfoMapper中selectAlbumStat方法，并在XML中编写对应SQL查询逻辑&#10;- 在AlbumInfoService中定义并实现getAlbumStatVoByAlbumId方法&#10;- 在search服务中新增getItem接口，整合专辑详情与统计信息的异步查询&#10;-新增线程池配置类ThreadPoolExecutorConfig，优化多任务并发执行效率" />
    <MESSAGE value="feat(album): 实现专辑声音列表分页查询功能&#10;- 在TrackInfoApiController中新增findAlbumTrackPage接口，支持根据专辑ID分页获取声音列表&#10;- 扩展TrackInfoMapper接口与XML映射文件，添加selectAlbumTrackPage方法实现声音列表查询逻辑&#10;- 在TrackInfoService中定义并实现findAlbumTrackPage服务方法，处理声音列表分页与付费标识逻辑&#10;- 新增AlbumTrackListVo实体类用于封装声音列表返回数据-优化用户权限校验逻辑，支持未登录状态下展示付费标识&#10;- 增加对试听集数的特殊处理，确保免费声音不显示付费标识&#10;- 完善VIP用户和已购声音用户的付费标识判断逻辑&#10;- 在UserInfoApiController中新增userIsPaidTrack接口，用于判断用户是否购买指定声音&#10;- 扩展UserInfoFeignClient及其降级类，支持远程调用用户付费状态查询&#10;- 在UserInfoService中实现userIsPaidTrack方法，完成用户付费状态的业务逻辑处理" />
    <MESSAGE value="feat增用户声音(user): 新播放进度查询接口&#10;&#10;- 在UserListenProcessApiController中添加getTrackBreakSecond接口，支持根据声音ID查询用户上次播放跳出时间- 扩展UserListenProcessService接口及其实现类，新增getTrackBreakSecond方法从MongoDB中获取播放进度&#10;- 集成MongoUtil工具类动态获取用户播放进度集合名称&#10;- 使用BigDecimal类型精确表示播放时间秒数&#10;- 添加@GuiGuLogin注解实现用户身份认证拦截&#10;- 集成Swagger注信息解完善接口文档&#10;- 优化MongoDB查询逻辑，支持按用户ID和声音ID联合查询播放记录" />
    <MESSAGE value="feat(album): 新增专辑与声音统计更新功能&#10;- 在AlbumInfoMapper中添加updateStat方法，用于更新专辑统计数据&#10;- 在TrackInfoMapper中添加updateStat方法，用于更新声音统计数据&#10;- 实现AlbumInfoService和TrackInfoService中的updateStat接口&#10;- 在TrackInfoServiceImpl中实现统计更新逻辑，同时更新声音和专辑的播放量&#10;- 新增TrackReceiver监听器，处理Kafka消息更新统计信息&#10;- 在UserListenProcessApiController中增加updateListenProcess接口，用于更新用户播放进度&#10;- 扩展UserListenProcessService及其实现类，实现播放进度的保存与播放量统计逻辑&#10;- 集成Redis位图功能防止重复统计播放&#10;- 使用Kafka发送播放量更新消息，确保统计一致性" />
    <MESSAGE value="feat(search): 实现专辑排行榜功能&#10;&#10;- 新增获取所有一级分类接口 findAllCategory1&#10;- 实现排行榜数据更新方法 updateLatelyAlbumRanking&#10;- 添加根据分类和维度查询排行榜接口 findRankingList&#10;- 集成 Redis 存储排行榜数据&#10;- 支持热度、播放量、订阅量等多维度排行&#10;- 完善 Feign 客户端与降级处理&#10;- 优化 Swagger 接口文档参数说明" />
    <MESSAGE value="feat(user): 新增获取用户最近播放声音接口&#10;&#10;- 在 UserListenProcessApiController 中Track添加 getLately- 接口ProcessService 扩展 UserListen 接口及其实现类，新增 getLatelyTrack 方法&#10;- 实现从 MongoDB 查询用户最近播放记录的逻辑- 按 updateTime降序排序，获取最新播放的声音信息&#10;- 返回包含 albumId 和 trackId 的 Map 结构数据&#10;- 集成 @GuiGuLogin 注解实现用户身份认证拦截&#10;- 使用 MongoTemplate 动态查询用户播放进度集合- 添加 Swagger 注解完善接口文档说明" />
    <MESSAGE value="feat(cache): 实现基于注解的缓存机制&#10;&#10;- 新增 @GuiGuCache 注解用于方法级别缓存控制&#10;- 实现 GuiGuCacheAspect 切面类处理缓存逻辑&#10;- 集成 Redis 与 Redisson 实现分布式缓存与锁机制&#10;- 在 AlbumInfoServiceImpl 和 BaseCategoryServiceImpl 中应用缓存注解&#10;-优化缓存 Key 生成策略，支持方法参数自动拼接&#10;- 添加缓存穿透保护机制，空值也缓存临时占位符&#10;- 配置 Redisson 客户端支持单点模式连接&#10;- 启用 redisson-spring-boot-starter 依赖支持" />
    <MESSAGE value="feat(search): 集成布隆过滤器优化专辑查询性能&#10;- 在 ItemServiceImpl 中启用 RedissonClient 并恢复布隆过滤器校验逻辑&#10;-通过布隆过滤器提前拦截无效 albumId 查询请求&#10;- 在 SearchServiceImpl 中实现专辑上架时将 albumId 添加至布隆过滤器&#10;- 修改 ServiceAlbumApplication 实现 CommandLineRunner 接口&#10;- 项目启动时初始化布隆过滤器，设置预计元素数量与误判率&#10;- 引入 RedisConstant 常量类统一管理布隆过滤器键名&#10;-优化查询流程，避免无效请求穿透至数据库层" />
    <MESSAGE value="feat(cdc): 实现CDC服务模块&#10;&#10;- 新增CDC服务模块，用于监听数据库变更事件&#10;- 集成Canal客户端实现数据变更捕获&#10;- 实现AlbumInfo和UserInfo表的数据变更处理器&#10;- 配置RedisTemplate以方式支持JSON序列化&#10;- 添加Redis缓存清理逻辑，在数据变更时删除对应缓存&#10;- 初始化CDC服务的SpringBoot启动类及相关配置文件&#10;- 在IDEA项目中注册新模块并配置运行环境&#10;-为搜索服务添加批量下架专辑的功能接口" />
    <MESSAGE value="feat(order): 实现订单确认接口&#10;&#10;- 新增订单确认接口 trade，支持专辑和 VIP 商品下单&#10;- 集成用户、专辑、VIP 配置服务远程调用&#10;- 实现订单金额计算逻辑，包括原价、减免金额和最终价格&#10;- 支持 VIP 用户与普通用户不同折扣规则&#10;- 添加订单明细与减免明细构建逻辑&#10;- 使用 Redis 实现防重提交机制&#10;- 生成订单签名防止前端篡改支付数据&#10;- 完善订单相关 VO 类型转换与数据封装&#10;- 更新 Nacos 配置中心地址为生产环境 IP&#10;- 补充用户是否已购买专辑的判断接口&#10;- 实现 Feign 客户端接口与降级处理逻辑&#10;- 完善 Swagger 文档注解与接口描述信息" />
    <MESSAGE value="feat(account): 实现用户账户余额查询功能&#10;&#10;- 新增获取账户可用余额的API接口&#10;- 实现根据用户ID查询账户余额的服务逻辑&#10;- 添加用户账户信息的数据访问方法&#10;- 集成认证上下文获取当前用户ID&#10;- 使用BigDecimal类型处理金额精度问题&#10;- 配置接口Swagger文档注解说明&#10;- 添加GuiGuLogin注解实现接口权限校验" />
    <MESSAGE value="feat(album): 实现用户声音分集购买支付列表功能&#10;&#10;- 在TrackInfoApiController中新增findUserTrackPaidList接口&#10;- 实现根据声音ID获取后续未购买声音分集支付信息的逻辑&#10;- 添加TrackInfoService接口及其实现类中的findUserTrackPaidList方法&#10;- 集成用户购买记录Feign客户端调用获取已购声音ID列表&#10;- 构建不同集数组合的支付选项（本集、后10集、后20集等）&#10;- 支持最多购买50集的限制规则&#10;-优化getTrackListByAlbumId方法注释，移除冗余业务说明&#10;- 在bootstrap.properties中配置网络首选项解决Nacos注册问题&#10;- 在UserInfoApiController中新增findUserPaidTrackList接口- 实现根据专辑ID查询用户已购买声音ID列表的功能&#10;- 扩展UserInfoService及其实现类支持查询用户购买记录&#10;- 更新Feign客户端接口与降级实现以支持新功能调用" />
    <MESSAGE value="feat(order): 实现声音分集购买订单处理功能&#10;&#10;- 引入TrackInfoFeignClient用于获取声音信息- 实现声音分集购买逻辑，支持单集与多集购买&#10;- 根据声音ID获取专辑信息并计算订单金额- 构建声音订单明细列表，包含名称、价格与封面&#10;-优化订单签名生成逻辑，移除调试注释&#10;- 添加stream工具类支持集合转换操作" />
    <MESSAGE value="feat(account): 实现账户金额锁定与扣减功能&#10;&#10;- 新增账户余额检查与锁定接口&#10;- 实现账户金额扣减与解锁逻辑&#10;- 添加 Kafka 消息监听处理账户操作&#10;- 完善账户相关 Mapper 和 Service 方法&#10;-优化账户操作的幂等性与并发控制" />
    <MESSAGE value="feat(account): 实现用户充值与消费记录功能&#10;- 新增充值信息API控制器，支持根据订单号查询充值信息&#10;- 实现用户充值提交接口，生成充值订单并返回订单号&#10;- 添加账户充值成功后的处理逻辑，更新账户余额与交易明细&#10;- 实现用户充值记录与消费记录的分页查询接口- 完善账户明细Mapper与Service层，支持按交易类型筛选记录&#10;-优化账户金额增加逻辑，确保操作幂等性与数据一致性&#10;- 配置Kafka监听器，处理充值支付成功的异步通知消息&#10;- 调整Nacos配置中心地址，统一服务注册与配置管理入口" />
    <option name="LAST_COMMIT_MESSAGE" value="feat(account): 实现用户充值与消费记录功能&#10;- 新增充值信息API控制器，支持根据订单号查询充值信息&#10;- 实现用户充值提交接口，生成充值订单并返回订单号&#10;- 添加账户充值成功后的处理逻辑，更新账户余额与交易明细&#10;- 实现用户充值记录与消费记录的分页查询接口- 完善账户明细Mapper与Service层，支持按交易类型筛选记录&#10;-优化账户金额增加逻辑，确保操作幂等性与数据一致性&#10;- 配置Kafka监听器，处理充值支付成功的异步通知消息&#10;- 调整Nacos配置中心地址，统一服务注册与配置管理入口" />
  </component>
  <component name="XSLT-Support.FileAssociations.UIState">
    <expand />
    <select />
  </component>
</project>